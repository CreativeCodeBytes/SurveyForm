const translations = {
    en: {
      title: "Survey Form",
      q1: "1. Have you received possession of the shop?",
      q1o1: "Yes, received",
      q1o2: "Not received yet",
      sq1: "1. a) In how many days will you receive possession?",
      sq1o1: "2-4 days",
      sq1o2: "A week",
      sq1o3: "A month",
      sq2: "1. b) When should we call you again?",
      sq2o1: "Call on this date",
      sq2o2: "I will call you after it's done",
      q2: "2. Is the shop completely empty?",
      q2o1: "Yes, it's empty",
      q2o2: "No, it's not empty yet",
      shopPhoto: "Send a complete photo of the shop",
      shopVideo: "Send a video of the shop",
      sq3: "2. a) When will it be emptied?",
      sq4: "2. b) Who will empty it?",
      sq4o1: "Shop owner",
      sq4o2: "Franchisee holder",
      sq4o3: "Other",
      sq5: "2. c) How many days will it take to empty?",
      sq5o1: "2-4 days",
      sq5o2: "A week",
      sq5o3: "A month",
      sq6: "2. d) When should we call again?",
      sq6o1: "Call on this date",
      sq6o2: "I will call you after it's emptied",
      q3: "3. Have the necessary changes in the shop been completed?",
      q3o1: "Yes, completed",
      q3o2: "No, not completed",
      q4: "4. Is there electrical supply in the shop?",
      q4o1: "Yes, there is",
      q4o2: "No, there isn't",
      lightPhoto: "Send a photo of the shop with the lights on",
      mcbBox: "Send a photo of the MCB Box",
      meterBox: "Send a photo of the Meter Box",
      sq7: "4. a) Who will provide the electrical supply?",
      sq7o1: "Shop owner",
      sq7o2: "Franchisee holder",
      sq7o3: "Other",
      submit: "Submit",
      sendAttachment: "Send Attachment",
      langSwitch: "मराठी",
      q5: "5. Is there drainage connectivity in the shop?",
      q5o1: "Yes, there is",
      q5o2: "No, there isn't",
      drainagePhoto: "Send a photo showing the working drainage",
      sq8: "5. a) Who will provide the drainage connectivity?",
      sq8o1: "Shop owner",
      sq8o2: "Franchisee holder",
      sq8o3: "Other",
      q6: "6. Is there water connectivity in the shop?",
      q6o1: "Yes, there is",
      q6o2: "No, there isn't",
      waterPhoto: "Send a photo",
      waterVideo: "Send a video showing running water from the tap",
      sq9: "6. a) Who will provide the water connectivity?",
      sq9o1: "Shop owner",
      sq9o2: "Franchisee holder",
      sq9o3: "Other",
    },
    mr: {
      title: "सर्वेक्षण फॉर्म",
      q1: "१. शॉप चा ताबा आपल्याकडे आला आहे का, आपल्याला मिळाला आहे का?",
      q1o1: "हो भेटला आहे",
      q1o2: "नाही भेटला अजून",
      sq1: "१. क) किती दिवसामध्ये ताबा भेटणार आहे?",
      sq1o1: "2-4 दिवस",
      sq1o2: "आठवडा",
      sq1o3: "महिना",
      sq2: "१. ख) पुन्हा फोन किती तारखेला करू?",
      sq2o1: "या तारखेला फोने करा",
      sq2o2: "खाली झाल्यनंतर मी तुम्हाला फोन करतो",
      q2: "२. शॉप पूर्णपणे मोकळे आहे का?",
      q2o1: "हो मोकळे आहे",
      q2o2: "नाही खाली झाले अजून",
      shopPhoto: "शॉप चा संपूर्ण फोटो पाठवा",
      shopVideo: "शॉप चा video पाठवा",
      sq3: "२. क) कधी पर्यन खाली होणार आहे?",
      sq4: "२. ख) कोण खाली करणार आहे?",
      sq4o1: "शॉप owner",
      sq4o2: "frenchisee धारक",
      sq4o3: "इतर",
      sq5: "२. ग) किती दिवस लागतील खाली होण्यासाठी?",
      sq5o1: "2-4 दिवस",
      sq5o2: "आठवडा",
      sq5o3: "महिना",
      sq6: "२. घ) पुन्हा फोने कधी करू?",
      sq6o1: "या तारखेला फोने करा",
      sq6o2: "खाली झाल्यनंतर मी तुम्हाला फोन करतो",
      q3: "३. शॉप मध्ये आवश्यक बदल करण्याचे काम पूर्ण झाले आहे का?",
      q3o1: "हो पूर्ण झाले आहे",
      q3o2: "नाही पूर्ण झाले नाही",
      q4: "४. शॉप मध्ये electrical supply आहे का?",
      q4o1: "हो आहे",
      q4o2: "नाही आहे",
      lightPhoto: "शॉप मध्ये light चालू असल्याचा फोटो पाठवा",
      mcbBox: "MCB Box चा फोटो पाठवा",
      meterBox: "Meter Box चा फोटो पाठवा",
      sq7: "४. क) कोण घेऊन देणार आहे?",
      sq7o1: "शॉप owner",
      sq7o2: "frenchisee धारक",
      sq7o3: "इतर",
      submit: "सबमिट करा",
      sendAttachment: "अटॅचमेंट पाठवा",
      langSwitch: "English",
      q5: "५. शॉप मध्ये drinage कॅन्नेक्टी आहे का?",
      q5o1: "हो आहे",
      q5o2: "नाही आहे",
      drainagePhoto: "शॉप मध्ये drinage चालू असल्याचा फोटो पाठवा",
      sq8: "५. क) कोण घेऊन देणार आहे?",
      sq8o1: "शॉप owner",
      sq8o2: "frenchisee धारक",
      sq8o3: "इतर",
      q6: "६. शॉप मध्ये water कॅन्नेक्टी आहे का?",
      q6o1: "हो आहे",
      q6o2: "नाही आहे",
      waterPhoto: "फोटो पाठवा",
      waterVideo: "शॉप मध्ये नळाला पाणी चालू असल्याचा video पाठवा",
      sq9: "६. क) कोण घेऊन देणार आहे?",
      sq9o1: "शॉप owner",
      sq9o2: "frenchisee धारक",
      sq9o3: "इतर",
    },
  }
  
  let currentLang = "mr"
  
  function updateLanguage() {
    document.getElementById("formTitle").textContent = translations[currentLang].title
    document.getElementById("q1Label").textContent = translations[currentLang].q1
    document.getElementById("q1o1Label").textContent = translations[currentLang].q1o1
    document.getElementById("q1o2Label").textContent = translations[currentLang].q1o2
    document.getElementById("sq1Label").textContent = translations[currentLang].sq1
    document.getElementById("sq1o1").textContent = translations[currentLang].sq1o1
    document.getElementById("sq1o2").textContent = translations[currentLang].sq1o2
    document.getElementById("sq1o3").textContent = translations[currentLang].sq1o3
    document.getElementById("sq2Label").textContent = translations[currentLang].sq2
    document.getElementById("sq2o1Label").textContent = translations[currentLang].sq2o1
    document.getElementById("sq2o2Label").textContent = translations[currentLang].sq2o2
    document.getElementById("q2Label").textContent = translations[currentLang].q2
    document.getElementById("q2o1Label").textContent = translations[currentLang].q2o1
    document.getElementById("q2o2Label").textContent = translations[currentLang].q2o2
    document.getElementById("shopPhotoLabel").textContent = translations[currentLang].shopPhoto
    document.getElementById("shopVideoLabel").textContent = translations[currentLang].shopVideo
    document.getElementById("sq3Label").textContent = translations[currentLang].sq3
    document.getElementById("sq4Label").textContent = translations[currentLang].sq4
    document.getElementById("sq4o1").textContent = translations[currentLang].sq4o1
    document.getElementById("sq4o2").textContent = translations[currentLang].sq4o2
    document.getElementById("sq4o3").textContent = translations[currentLang].sq4o3
    document.getElementById("sq5Label").textContent = translations[currentLang].sq5
    document.getElementById("sq5o1").textContent = translations[currentLang].sq5o1
    document.getElementById("sq5o2").textContent = translations[currentLang].sq5o2
    document.getElementById("sq5o3").textContent = translations[currentLang].sq5o3
    document.getElementById("sq6Label").textContent = translations[currentLang].sq6
    document.getElementById("sq6o1Label").textContent = translations[currentLang].sq6o1
    document.getElementById("sq6o2Label").textContent = translations[currentLang].sq6o2
    document.getElementById("q3Label").textContent = translations[currentLang].q3
    document.getElementById("q3o1Label").textContent = translations[currentLang].q3o1
    document.getElementById("q3o2Label").textContent = translations[currentLang].q3o2
    document.getElementById("q4Label").textContent = translations[currentLang].q4
    document.getElementById("q4o1Label").textContent = translations[currentLang].q4o1
    document.getElementById("q4o2Label").textContent = translations[currentLang].q4o2
    document.getElementById("lightPhotoLabel").textContent = translations[currentLang].lightPhoto
    document.getElementById("mcbBoxLabel").textContent = translations[currentLang].mcbBox
    document.getElementById("meterBoxLabel").textContent = translations[currentLang].meterBox
    document.getElementById("sq7Label").textContent = translations[currentLang].sq7
    document.getElementById("sq7o1").textContent = translations[currentLang].sq7o1
    document.getElementById("sq7o2").textContent = translations[currentLang].sq7o2
    document.getElementById("sq7o3").textContent = translations[currentLang].sq7o3
    document.getElementById("submitBtn").textContent = translations[currentLang].submit
    document.getElementById("sendBtn").textContent = translations[currentLang].sendAttachment
    document.getElementById("langSwitch").textContent = translations[currentLang].langSwitch
    document.getElementById("q5Label").textContent = translations[currentLang].q5
    document.getElementById("q5o1Label").textContent = translations[currentLang].q5o1
    document.getElementById("q5o2Label").textContent = translations[currentLang].q5o2
    document.getElementById("drainagePhotoLabel").textContent = translations[currentLang].drainagePhoto
    document.getElementById("sq8Label").textContent = translations[currentLang].sq8
    document.getElementById("sq8o1").textContent = translations[currentLang].sq8o1
    document.getElementById("sq8o2").textContent = translations[currentLang].sq8o2
    document.getElementById("sq8o3").textContent = translations[currentLang].sq8o3
    document.getElementById("q6Label").textContent = translations[currentLang].q6
    document.getElementById("q6o1Label").textContent = translations[currentLang].q6o1
    document.getElementById("q6o2Label").textContent = translations[currentLang].q6o2
    document.getElementById("waterPhotoLabel").textContent = translations[currentLang].waterPhoto
    document.getElementById("waterVideoLabel").textContent = translations[currentLang].waterVideo
    document.getElementById("sq9Label").textContent = translations[currentLang].sq9
    document.getElementById("sq9o1").textContent = translations[currentLang].sq9o1
    document.getElementById("sq9o2").textContent = translations[currentLang].sq9o2
    document.getElementById("sq9o3").textContent = translations[currentLang].sq9o3
  
    // Update lang attribute
    const elements = document.querySelectorAll('h2[id="formTitle"], label, option')
    elements.forEach((el) => {
      if (currentLang === "mr") {
        el.setAttribute("lang", "mr")
      } else {
        el.removeAttribute("lang")
      }
    })
  }
  
  document.getElementById("langSwitch").addEventListener("click", () => {
    currentLang = currentLang === "en" ? "mr" : "en"
    updateLanguage()
  })
  
  document.querySelectorAll('input[name="mainQuestion1"]').forEach((radio) => {
    radio.addEventListener("change", (e) => {
      const subQuestions1 = document.getElementById("subQuestions1")
      const mainQuestions234 = document.getElementById("mainQuestions234")
      if (e.target.value === "yes") {
        subQuestions1.classList.add("hidden")
        mainQuestions234.classList.remove("hidden")
      } else {
        subQuestions1.classList.remove("hidden")
        mainQuestions234.classList.add("hidden")
      }
    })
  })
  
  document.querySelectorAll('input[name="mainQuestion2"]').forEach((radio) => {
    radio.addEventListener("change", (e) => {
      const shopEmptyYesQuestions = document.getElementById("shopEmptyYesQuestions")
      const shopEmptyNoQuestions = document.getElementById("shopEmptyNoQuestions")
      const mainQuestion3 = document.getElementById("mainQuestion3")
      const mainQuestion4 = document.getElementById("mainQuestion4")
      const mainQuestion5 = document.getElementById("mainQuestion5")
      const mainQuestion6 = document.getElementById("mainQuestion6")
      if (e.target.value === "yes") {
        shopEmptyYesQuestions.classList.remove("hidden")
        shopEmptyNoQuestions.classList.add("hidden")
        mainQuestion3.classList.remove("hidden")
        mainQuestion4.classList.remove("hidden")
        mainQuestion5.classList.remove("hidden")
        mainQuestion6.classList.remove("hidden")
      } else {
        shopEmptyYesQuestions.classList.add("hidden")
        shopEmptyNoQuestions.classList.remove("hidden")
        mainQuestion3.classList.add("hidden")
        mainQuestion4.classList.add("hidden")
        mainQuestion5.classList.add("hidden")
        mainQuestion6.classList.add("hidden")
      }
    })
  })
  
  document.querySelectorAll('input[name="mainQuestion4"]').forEach((radio) => {
    radio.addEventListener("change", (e) => {
      const electricalSupplyYesQuestions = document.getElementById("electricalSupplyYesQuestions")
      const electricalSupplyNoQuestions = document.getElementById("electricalSupplyNoQuestions")
      if (e.target.value === "yes") {
        electricalSupplyYesQuestions.classList.remove("hidden")
        electricalSupplyNoQuestions.classList.add("hidden")
      } else {
        electricalSupplyYesQuestions.classList.add("hidden")
        electricalSupplyNoQuestions.classList.remove("hidden")
      }
    })
  })
  
  document.querySelectorAll('input[name="mainQuestion5"]').forEach((radio) => {
    radio.addEventListener("change", (e) => {
      const drainageYesQuestions = document.getElementById("drainageYesQuestions")
      const drainageNoQuestions = document.getElementById("drainageNoQuestions")
      if (e.target.value === "yes") {
        drainageYesQuestions.classList.remove("hidden")
        drainageNoQuestions.classList.add("hidden")
      } else {
        drainageYesQuestions.classList.add("hidden")
        drainageNoQuestions.classList.remove("hidden")
      }
    })
  })
  
  document.querySelectorAll('input[name="mainQuestion6"]').forEach((radio) => {
    radio.addEventListener("change", (e) => {
      const waterYesQuestions = document.getElementById("waterYesQuestions")
      const waterNoQuestions = document.getElementById("waterNoQuestions")
      if (e.target.value === "yes") {
        waterYesQuestions.classList.remove("hidden")
        waterNoQuestions.classList.add("hidden")
      } else {
        waterYesQuestions.classList.add("hidden")
        waterNoQuestions.classList.remove("hidden")
      }
    })
  })
  
  document.getElementById("surveyForm").addEventListener("submit", async (e) => {
    e.preventDefault()
  
    // Show loading spinner
    document.getElementById("loadingSpinner").classList.remove("hidden")
  
    // Gather form data
    const formData = new FormData(e.target)
    const result = {}
    for (const [key, value] of formData.entries()) {
      result[key] = value
    }
  
    try {
      // Simulate API call to save data
      await new Promise((resolve) => setTimeout(resolve, 2000))
  
      // Save form data (simulated)
      localStorage.setItem("surveyFormData", JSON.stringify(result))
      console.log("Form data saved:", result)
  
      // Print the form
      window.print()
  
      alert("Form submitted successfully! The form has been saved and printed.")
    } catch (error) {
      console.error("Error submitting form:", error)
      alert("An error occurred while submitting the form. Please try again.")
    } finally {
      // Hide loading spinner
      document.getElementById("loadingSpinner").classList.add("hidden")
    }
  })
  
  document.getElementById("sendBtn").addEventListener("click", () => {
    const formData = new FormData(document.getElementById("surveyForm"))
    const result = {}
    for (const [key, value] of formData.entries()) {
      result[key] = value
    }
  
    // Prepare WhatsApp message
    let message = `Survey Results:\n`
    for (const [key, value] of Object.entries(result)) {
      message += `${key}: ${value}\n`
    }
  
    // Encode the message for WhatsApp URL
    const encodedMessage = encodeURIComponent(message)
  
    // Open WhatsApp with the form data
    window.open(`https://wa.me/?text=${encodedMessage}`, "_blank")
  })
  
  document.getElementById("sendAttachmentBtn").addEventListener("click", () => {
    const shopPhoto = document.getElementById("shopPhoto").files[0]
    const shopVideo = document.getElementById("shopVideo").files[0]
    const lightPhoto = document.getElementById("lightPhoto").files[0]
    const mcbBoxPhoto = document.getElementById("mcbBoxPhoto").files[0]
    const meterBoxPhoto = document.getElementById("meterBoxPhoto").files[0]
    const drainagePhoto = document.getElementById("drainagePhoto").files[0]
    const waterPhoto = document.getElementById("waterPhoto").files[0]
    const waterVideo = document.getElementById("waterVideo").files[0]
  
    if (
      shopPhoto ||
      shopVideo ||
      lightPhoto ||
      mcbBoxPhoto ||
      meterBoxPhoto ||
      drainagePhoto ||
      waterPhoto ||
      waterVideo
    ) {
      // Simulating sending attachment (you would implement actual file upload here)
      console.log("Sending attachments:", {
        shopPhoto,
        shopVideo,
        lightPhoto,
        mcbBoxPhoto,
        meterBoxPhoto,
        drainagePhoto,
        waterPhoto,
        waterVideo,
      })
      alert("Attachments sent successfully!")
    } else {
      alert("Please select at least one file to send.")
    }
  })
  
  function adjustLayoutForScreenSize() {
    const form = document.getElementById("surveyForm")
    if (window.innerWidth < 768) {
      form.classList.add("px-2")
    } else {
      form.classList.remove("px-2")
    }
  }
  
  window.addEventListener("resize", adjustLayoutForScreenSize)
  adjustLayoutForScreenSize()
  
  updateLanguage()
  
  